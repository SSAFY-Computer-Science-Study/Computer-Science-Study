# 6장 메모리와 캐시 메모리

### RAM의 특징과 종류

- 램의 특징
- 램의 용량과 성능
- 램의 종류

### 메모리의 주소 공간

- 물리 주소와 논리 주소

### 캐시 메모리

- 저장 장치 계층 구조
- 캐시 메모리
- 참조 지역성 원리

---

<br>

# 6.1 RAM의 특징과 종류

## RAM의 특징

- 휘발성 저장 장치
  - RAM
  - 전원을 끄면 명령어와 데이터가 모두 날아감
  - ‘실행할 대상’을 저장
- 비휘발성 저장 장치
  - 하드디스크 ,SSD
  - 보조기억장치
  - ‘보관할 대상’을 저장

## RAM의 용량과 성능

## RAM의 종류

- **DRAM**
  - 일반적으로 메모리로써 사용하는 RAM
  - 소비 전력이 낮고 저렴하고 집적도가 높기 때문에 대용량으로 설계하기가 용이
  - 시간이 지나면 저장된 데이터가 점차 사라지기에 데이터의 소멸을 막기위해 일정 주기로 데이터를 재활성화해야함.
- **SRAM**
  - static RAM
  - 저장된 데이터가 변하지 않는 RAM
  - 시간이 지나도 저장된 데이터가 사라지지 않음
    - 전원이 공급되지 않으면 저장된 내용이 날아감. ‘휘발성 메모리’임
  - DRAM 보다 속도가 더 빠르다
  - 하지만 집적도가 낮고 소비 전력도 크며, 가격도 비싸기 때문에 DRAM 보다 일반적으로 사용되지는 않음
- **SDRAM**
  - Synchronous Dynamic RAM
  - 클럭 신호와 동기화된, 발전된 형태의 DRAM
- **DDR SRAM**
  - Double Data Rate SDRAM
  - 최근 가장 흔히 사용
  - 대역폭을 넓혀 속도를 빠르게
    - 대역폭 : 데이터를 주고받는 길의 너비

<br>

# 6.2 메모리의 주소 공간

## 물리 주소와 논리 주소

<aside>
💡CPU와 실행중인 프로그램은 현재 메모리에 몇 번지에 무엇이 저장되어 있는 지 알기 어려움.

</aside>

- 물리 주소
  - 말 그대로 정보가 실제로 저장된 하드웨어 상의 주소
- 논리 주소

  - CPU와 실행중인 프로그램이 사용하는 주소
  - 실행중인 프로그램 각각에게 부여된 0번지부터 시작되는 주소
  - 각 프로그램은 각자 자신만을 위한 논리 주소를 가지고 있음

- 메모리 관리 장치 (MMU)

  - 논리주소와 물리 주소 간의 변환은 어떻게 이루어지는가?

  <br>

## 메모리 보호 기법

컴퓨터는 여러 프로그램을 동시에 실행함. 이때 각각의 프로그램이 사용하는 메모리 공간이 따로 있어야 함. 그렇지 않으면 한 프로그램이 다른 프로그램의 데이터를 지우거나 덮어쓸 위험이 생김.

이를 막기 위해 **메모리 보호 기법**이 필요함.

### 보호 방법 – 베이스 레지스터, 한계 레지스터 사용

- **베이스 레지스터**: 프로그램이 시작하는 물리 주소를 저장함.
- **한계 레지스터**: 프로그램이 사용할 수 있는 최대 크기를 저장함.

CPU가 논리 주소에 접근할 때,

1.  논리 주소가 한계 레지스터보다 작은지 확인함.
2.  맞으면 베이스 레지스터 값과 더해서 실제 물리 주소를 계산함.
3.  틀리면 접근을 막고, **인터럽트(트랩)** 발생시켜 실행 중단함.

### 보호 효과

프로그램이 자기 메모리 영역만 사용하게 제한함.

다른 프로그램 영역 침범을 방지함.

프로그램들끼리 독립적인 실행 공간을 보장함.

<br>

# 6.3 캐시 메모리

<aside>
💡CPU 와 메모리 사이에 위치한 캐시 메모리에 대해 학습

</aside>

<br>

## 저장 장치 계층 구조

- CPU와 가까운 저장 장치는 빠르고 멀리 있는 저장장치는 느리다.
- 속도가 빠른 저장 장치는 저장 용량이 적고 가격이 비싸다.

### 저장 장치 계층 구조

- CPU에 가까운 순서대로 계층을 나눈 구조.
- 가까울수록 빠르고 비싸고 용량 작음, 멀수록 느리고 싸고 용량 큼.

### 캐시 메모리란

- **CPU와 메모리(RAM) 사이에 있는 중간 저장 장치.**
- **SRAM** 사용 → 빠르고 비싼 메모리.
- 메모리보다 빠르게 데이터를 CPU에 전달해줌.
- CPU와 메모리 속도 차이 문제를 해결하기 위해 등장.

<br>

## 참조 지역성 원리

<aside>
💡캐시 메모리는 용량이 작기 때문에 메모리에 있는 모든 데이터를 저장할 수 없음.

그래서 CPU가 앞으로 사용할 것 같은 데이터를 예측해서 저장해야 함.

이때 기준이 되는 것이 **참조 지역성 원리**임.

</aside>

### 참조 지역성 원리란

CPU가 데이터를 사용할 때 보이는 두 가지 경향을 말함.

**시간 지역성**

- 최근에 사용한 데이터를 다시 사용할 가능성이 높음.
- 방금 접근했던 메모리 공간에 다시 접근하려는 성질임.
- 예: 변수 값을 저장하고, 여러 번 사용하는 경우.

**공간 지역성**

- 가까운 위치에 있는 데이터를 함께 사용할 가능성이 높음.
- 접근한 메모리 공간 근처를 접근하려는 성질.
- 예: 관련 데이터끼리 묶어서 사용하는 경우.

### 캐시 메모리와 참조 지역성

캐시 메모리는 참조 지역성 원리를 이용해 CPU가 사용할 데이터를 미리 예측해서 저장함.

예측이 맞으면 캐시 히트(cache hit)라고 하고,

예측이 틀려서 메모리에서 다시 데이터를 가져오면 캐시 미스(cache miss)라고 함.

### 캐시 적중률

캐시가 데이터를 얼마나 잘 맞췄는지를 나타내는 비율.

```jsx
캐시 히트 횟수 / (캐시 히트 횟수 + 캐시 미스 횟수)

```

보통 85~95% 이상이 나오면 좋은 편임.

캐시 적중률이 높으면 CPU가 메모리에 덜 접근하게 되어 속도가 빨라짐.
