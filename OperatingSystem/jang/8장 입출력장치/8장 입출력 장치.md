# 8μ¥ μ…μ¶λ ¥ μ¥μΉ

- μ¥μΉ μ»¨νΈλ΅¤λ¬μ— λ€ν• μ΄ν•΄
- μ¥μΉ λ“λΌμ΄λ²„μ— λ€ν•΄ μ΄ν•΄
- ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥ λ°©μ‹
- μΈν„°λ½νΈ κΈ°λ°μ μ…μ¶λ ¥ λ°©μ‹
- DMA μ…μ¶λ ¥ λ°©μ‹ μ΄ν•΄

<br>

# 8.1 μ¥μΉ μ»¨νΈλ΅¤λ¬μ™€ μ¥μΉ λ“λΌμ΄λ²„

<br>

## β…μ¥μΉ μ»¨νΈλ΅¤λ¬

<aside>
π’΅μ…μ¶λ ¥ μ¥μΉλ” CPU λ©”λ¨λ¦¬λ³΄λ‹¤ λ” λ‹¤λ£¨κΈ°κ°€ κΉλ‹¤λ΅­λ‹¤. μ™?

</aside>

<br>

1. μ…μ¶λ ¥ μ¥μΉμ—λ” μΆ…λ¥κ°€ λ„λ¬΄λ§λ‹¤
   - μ¥μΉλ§λ‹¤ μ†λ„,λ°μ΄ν„°,μ „μ†΅ ν•μ‹λ“±λ„ λ‹¤μ–‘ν•λ‹¤
   - λ‹¤μ–‘ν• μ…μ¶λ ¥ μ¥μΉμ™€ μ •λ³΄λ¥Ό μ£Όκ³ λ°›λ” λ°©μ‹μ„ κ·κ²©ν™” ν•κΈ° μ–΄λ µλ‹¤.
2. CPUμ™€ λ©”λ¨λ¦¬μ λ°μ΄ν„° μ „μ†΅λ¥ μ€ λ†’μ§€λ§ μ…μ¶λ ¥ μ¥μΉμ λ°μ΄ν„° μ „μ†΅λ¥ μ€ λ‚®λ‹¤.
   - **μ „μ†΅λ¥ **:λ°μ΄ν„°λ¥Ό μ–Όλ§λ‚ λΉ¨λ¦¬ κµν™ν•  μ μλ”μ§€λ¥Ό λ‚νƒ€λ‚΄λ” μ§€ν‘
     ### **μ „μ†΅λ¥ μ λ‹¨μ„**
     μ „μ†΅λ¥ μ€ λ³΄ν†µ λ‹¤μκ³Ό κ°™μ€ λ‹¨μ„λ΅ ν‘ν„:
     - **bps (bits per second)**: μ΄λ‹Ή λ‡ λΉ„νΈ(bit)λ¥Ό μ „μ†΅ν•λ”μ§€ λ‚νƒ€λƒ„ β†’ λ„¤νΈμ›ν¬ μ „μ†΅ μ†λ„μ—μ„ μ£Όλ΅ μ‚¬μ© (ex: 100 Mbps)
     - **Bps (Bytes per second)**: μ΄λ‹Ή λ‡ λ°”μ΄νΈ(byte)λ¥Ό μ „μ†΅ν•λ”μ§€ λ‚νƒ€λƒ„ (1 Byte = 8 bits)
       - **KB/s (Kilobytes per second)**
       - **MB/s (Megabytes per second)**
       - **GB/s (Gigabytes per second)**

### **μ¥μΉ μ»¨νΈλ΅¤λ¬**

μ¥μΉ μ»¨νΈλ΅¤λ¬λ” **CPUμ™€ μ…μ¶λ ¥ μ¥μΉ(I/O Device) μ‚¬μ΄μ—μ„ λ°μ΄ν„°λ¥Ό μ¤‘μ¬ν•λ” ν•λ“μ›¨μ–΄.**

μ‰½κ² λ§ν•΄ **"μ…μ¶λ ¥ μ¥μΉλ¥Ό κ΄€λ¦¬ν•λ” μΌμΆ…μ λ―Έλ‹ CPU"**

### μ—­ν• 

1. **CPUμ™€ μ…μ¶λ ¥ μ¥μΉ κ°„μ ν†µμ‹  μ¤‘κ°**
   - CPUκ°€ μ§μ ‘ I/Oλ¥Ό μ μ–΄ν•μ§€ μ•λ„λ΅ λ„μ™€μ£Όκ³ , λ‹¤μ–‘ν• λ°μ΄ν„° μ „μ†΅ λ°©μ‹(μΈν„°λ½νΈ, DMA λ“±)μ„ ν™μ©ν•¨
2. **μ¤λ¥ κ²€μ¶**
   - λ°μ΄ν„° μ „μ†΅ μ¤‘ λ°μƒν•  μ μλ” μ¤λ¥λ¥Ό κ°μ§€ν•κ³ , ν•„μ”ν•λ©΄ μμ •ν•¨ (ν¨λ¦¬ν‹° λΉ„νΈ, μ²΄ν¬μ„¬, CRC λ“±).
     ### **μ¤λ¥ κ²€μ¶ (Error Detection)**
     μ¥μΉ μ»¨νΈλ΅¤λ¬λ” **μ…μ¶λ ¥ μ¥μΉμ—μ„ λ°μ΄ν„°κ°€ μ „μ†΅λ  λ• μ¤λ¥κ°€ λ°μƒν•μ§€ μ•μ•λ”μ§€ κ²€μ‚¬ν•λ” μ—­ν• **
     - λ°μ΄ν„° μ „μ†΅ μ¤‘ **λ…Έμ΄μ¦, μ‹ νΈ μ†μ‹¤, μ¶©λ** λ“±μ μ΄μ λ΅ μ¤λ¥κ°€ λ°μƒν•  μ μμ.
     - μ¤λ¥κ°€ μλ” λ°μ΄ν„°λ¥Ό κ·Έλ€λ΅ μ‚¬μ©ν•λ©΄ ν”„λ΅κ·Έλ¨μ΄ μ¤μ‘λ™ν•  μ μμ.
     ### **μ£Όμ” μ¤λ¥ κ²€μ¶ κΈ°λ²•**
     1. **ν¨λ¦¬ν‹° λΉ„νΈ(Parity Bit) κ²€μ‚¬**
        - λ°μ΄ν„°μ— μ¶”κ°€μ μΈ **κ²€μ‚¬ λΉ„νΈ**λ¥Ό λ¶™μ—¬μ„ μ¤λ¥λ¥Ό κ°μ§€ν•¨.
        - λ‹¨μν• λ°©μ‹μ΄μ§€λ§, μ¤λ¥ μ •μ •μ€ λ¶κ°€λ¥.
          - **μΌλ° ν¨λ¦¬ν‹° λΉ„νΈ**
            - 1λΉ„νΈ μ¤λ¥ κ°μ§€λ” κ°€λ¥ν•μ§€λ§,**μ¤λ¥κ°€ λ°μƒν• μ„μΉλ¥Ό μ• μ μ—†μ–΄ λ³µκµ¬ λ¶κ°€λ¥**
          - **RAID 4μ ν¨λ¦¬ν‹°**
            - μ—¬λ¬ λ””μ¤ν¬μ—μ„ λ°μ΄ν„°λ¥Ό XOR μ—°μ‚°μΌλ΅ κ³„μ‚°ν•μ—¬**μ†μ‹¤λ λ°μ΄ν„°λ¥Ό λ³µκµ¬ κ°€λ¥**
            - RAIDμ—μ„λ” **ν¨λ¦¬ν‹° λ””μ¤ν¬κ°€ μ—¬λ¬ κ°μ λ°μ΄ν„° λΈ”λ΅μ„ λΉ„κµν•λ©΄μ„ XOR μ—°μ‚°μ„ μν–‰**ν•  μ μκΈ° λ•λ¬Έμ— λ°μ΄ν„° λ³µκµ¬κ°€ κ°€λ¥ν•¨
     2. **μ²΄ν¬μ„¬(Checksum) κ²€μ‚¬**
        - μ „μ†΅λ λ°μ΄ν„°μ ν•©κ³„λ¥Ό κ³„μ‚°ν•΄μ„ λΉ„κµν•λ” λ°©μ‹.
        - λ„¤νΈμ›ν¬ λ°μ΄ν„° μ „μ†΅μ—μ„ λ§μ΄ μ‚¬μ©λ¨.
     3. **CRC(Cyclic Redundancy Check) κ²€μ‚¬**
        - λ‹¤ν•­μ‹μ„ μ΄μ©ν• κ³ κΈ‰ μ¤λ¥ κ²€μ¶ λ°©λ²•.
        - λ””μ¤ν¬ μ €μ¥ μ¥μΉ, λ„¤νΈμ›ν¬ ν†µμ‹  λ“±μ— ν™μ©λ¨.
     4. **μ—λ¬ μ •μ • μ½”λ“(ECC, Error-Correcting Code)**
        - μ¤λ¥λ¥Ό λ‹¨μ κ²€μ¶ν•λ” κ²ƒμ΄ μ•„λ‹λΌ **μμ •κΉμ§€ κ°€λ¥**.
        - RAM(λ©”λ¨λ¦¬)μ΄λ‚ SSD κ°™μ€ μ €μ¥ μ¥μΉμ—μ„ μ‚¬μ©λ¨.
3. **λ°μ΄ν„° λ²„νΌ**
   - CPUμ™€ I/O μ¥μΉ κ°„ μ†λ„ μ°¨μ΄λ¥Ό ν•΄κ²°ν•κ³  μ›ν™ν• λ°μ΄ν„° νλ¦„μ„ μ μ§€ν•λ„λ΅ λ„μ™€μ¤.

<br>

### **μ¥μΉ μ»¨νΈλ΅¤λ¬μ κµ¬μ΅°**

![image.png](image.png)

- **λ°μ΄ν„° λ μ§€μ¤ν„°** λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ” κ³³.
- **μƒνƒ λ μ¤ν„°** : μ…μ¶λ ¥ μ¥μΉκ°€ μ…μ¶λ ¥ μ‘μ—…μ„ ν•  μ¤€λΉ„κ°€ λμ—λ”μ§€,μ¤λ¥λ” μ—†λ”μ§€ λ“±μ μƒνƒμ •λ³΄κ°€ μ €μ¥.
- **μ μ–΄ λ μ§€μ¤ν„°**: μ…μ¶λ ¥ μ¥μΉκ°€ μν–‰ν•  λ‚΄μ©μ— λ€ν• μ μ–΄ μ •λ³΄μ™€ λ…λ Ήμ„ μ €μ¥

- **λ²„μ¤ μΈν„°νμ΄μ¤**: CPU λ° λ©”λ¨λ¦¬μ™€ μ—°κ²°λλ” μΈν„°νμ΄μ¤.
- **μ¥μΉ μΈν„°νμ΄μ¤**: μ‹¤μ  ν•λ“μ›¨μ–΄(μ: ν‚¤λ³΄λ“, λ§μ°μ¤, ν”„λ¦°ν„°, λ””μ¤ν¬)μ™€ μ—°κ²°λλ” λ¶€λ¶„.

**μ¥μΉ μ»¨νΈλ΅¤λ¬λ” μ—¬λ¬ κ°μ μ¥μΉλ¥Ό μ μ–΄ν•  μλ„ μκ³ , ν•λ‚μ μ¥μΉλ§ μ μ–΄ν•  μλ„ μμ.**

μλ¥Ό λ“¤μ–΄, **λ””μ¤ν¬ μ»¨νΈλ΅¤λ¬**λ” μ—¬λ¬ κ°μ ν•λ“λ””μ¤ν¬λ¥Ό μ μ–΄ν•  μ μμ§€λ§, **ν‚¤λ³΄λ“ μ»¨νΈλ΅¤λ¬**λ” ν‚¤λ³΄λ“ ν•λ‚λ§ κ΄€λ¦¬ν•¨.

<br>

## β…μ¥μΉ λ“λΌμ΄λ²„

- μ…μ¶λ ¥μ¥μΉλ¥Ό μ—°κ²°ν•κΈ° μ„ν• μ†ν”„νΈμ›¨μ–΄μ μΈ ν†µλ΅
- μ¥μΉ μ»¨νΈλ΅¤λ¬κ°€ μ»΄ν“¨ν„° λ‚΄λ¶€μ™€ μ •λ³΄λ¥Ό μ£Όκ³ λ°›μ„ μ μκ² ν•λ” ν”„λ΅κ·Έλ¨

<br>

# 8.2 λ‹¤μ–‘ν• μ…μ¶λ ¥ λ°©λ²•

<aside>
π’΅ **μ¥μΉ μ»¨νΈλ΅¤λ¬**κ°€ CPU λ° λ©”λ¨λ¦¬μ™€ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ” λ°©μ‹μ€ ν¬κ² **μ„Έ κ°€μ§€**

</aside>

**1 ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥**

- CPUκ°€ μ§μ ‘ μ¥μΉ μ»¨νΈλ΅¤λ¬μ—κ² λ…λ Ήμ„ μ£Όκ³  λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ” λ°©μ‹.
- CPUκ°€ κ³„μ†ν•΄μ„ μ…μ¶λ ¥ μ¥μΉμ μƒνƒλ¥Ό ν™•μΈν•΄μ•Ό ν•΄μ„ λΉ„ν¨μ¨μ .
- **λ‹¨μ **: CPUκ°€ I/O μ‘μ—…μ„ μν–‰ν•λ” λ™μ• λ‹¤λ¥Έ μ‘μ—…μ„ ν•μ§€ λ»ν•¨.

**2 μΈν„°λ½νΈ κΈ°λ° μ…μ¶λ ¥**

- μ…μ¶λ ¥ μ¥μΉκ°€ λ°μ΄ν„° μ „μ†΅μ„ λ§μΉλ©΄ CPUμ—κ² **μΈν„°λ½νΈ(Interrupt)** λ¥Ό λ³΄λ‚΄ μ•λ¦Ό.
- CPUλ” λ‹¤λ¥Έ μ‘μ—…μ„ ν•λ‹¤κ°€ μΈν„°λ½νΈλ¥Ό λ°›μΌλ©΄ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•¨.
- **μ¥μ **: CPUκ°€ λ¶ν•„μ”ν•κ² λ€κΈ°ν•  ν•„μ” μ—†μ.

**3 DMA(Direct Memory Access) μ…μ¶**

- μ¥μΉ μ»¨νΈλ΅¤λ¬κ°€ CPU κ°μ… μ—†μ΄ **λ©”λ¨λ¦¬(RAM)μ™€ μ§μ ‘ λ°μ΄ν„° μ „μ†΅**.
- CPUλ” λ°μ΄ν„° μ „μ†΅μ„ μ‹ κ²½ μ“°μ§€ μ•κ³  λ‹¤λ¥Έ μ‘μ—… μν–‰ κ°€λ¥.
- **μ¥μ **: CPU λ¶€ν•κ°€ μ¤„μ–΄λ“¤κ³  μ‹μ¤ν… μ„±λ¥μ΄ ν–¥μƒλ¨.
- **μ)** λ€μ©λ‰ λ°μ΄ν„° μ „μ†΅ (λ””μ¤ν¬μ—μ„ λ©”λ¨λ¦¬λ΅ νμΌ μ½κΈ°)

<br>

## β…**ν”„λ΅κ·Έλ¨ μ…μ¶λ ¥ λ°©μ‹**

- ν”„λ΅κ·Έλ¨ μ† λ…λ Ήμ–΄λ΅ μ…μ¶λ ¥ μ¥μΉλ¥Ό μ μ–΄
- CPUκ°€ ν”„λ΅κ·Έλ¨ μ† λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•λ” κ³Όμ •μ—μ„ **μ…μ¶λ ¥ λ…λ Ήμ–΄λ¥Ό λ§λ‚λ©΄** CPUλ” μ…μ¶λ ¥ μ¥μΉμ— μ—°κ²°λ μ¥μΉ μ»¨νΈλ΅¤λ¬μ™€ μƒνΈ μ‘μ©ν•λ©° μ‘μ—… μν–‰

![image.png](image%201.png)

- CPUκ°€ μ¥μΉ μ»¨νΈλ΅¤λ¬μ λ μ§€μ¤ν„° κ°’μ„ μ½κ³  μ”€μΌλ΅μ¨ μ΄λ£¨μ–΄μ§

    <aside>
    π’΅
    
    CPUλ” μ…μ¶λ ¥ μ¥μΉλ“¤μ μ£Όμ†λ¥Ό μ–΄λ–»κ² μ•„λ”κ°€??
    
    </aside>

- **λ©”λ¨λ¦¬ λ§µ μ…μ¶λ ¥**
  - **λ©”λ¨λ¦¬**μ— μ ‘κ·Όν•κΈ° μ„ν•Β **μ£Όμ† κ³µκ°„**κ³ΌΒ **μ…μ¶λ ¥μ¥μΉ**μ— μ ‘κ·Όν•κΈ° μ„ν•Β **μ£Όμ† κ³µκ°„**μ„Β **ν•λ‚μ μ£Όμ† κ³µκ°„μΌλ΅ κ°„μ£Ό**ν•λ” λ°©λ²•
- **κ³ λ¦½ν• μ…μ¶λ ¥**
  - λ©”λ¨λ¦¬λ¥Ό μ„ν• μ£Όμ† κ³µκ°„κ³Ό μ…μ¶λ ¥μ¥μΉλ¥Ό μ„ν•Β **μ£Όμ† κ³µκ°„ λ¶„λ¦¬ν•λ” λ°©λ²•**
  - μ μ–΄ λ²„μ¤μ—Β λ©”λ¨λ¦¬ μ½κΈ°/μ“°κΈ° μ„ κ³Ό λ³„κ°λ΅Β μ…μ¶λ ¥μ¥μΉ μ½κΈ°/μ“°κΈ°Β μ„  μƒμ„±
    - λ©”λ¨λ¦¬ 1024 μ£Όμ†κ³µκ°„, μ…μ¶λ ¥ μ¥μΉ 1024 μ£Όμ† κ³µκ°„ ν™μ©

<br>

## β…μΈν„°λ½νΈ κΈ°λ° μ…μ¶λ ¥

- μ…μ¶λ ¥μ¥μΉμ— μν• ν•λ“μ›¨μ–΄ μΈν„°λ½νΈλ” μ •ν™•ν λ§ν•μλ©΄ μ…μ¶λ ¥μ¥μΉκ°€ μ•„
  λ‹ μ¥μΉ μ»¨νΈλ΅¤λ¬μ— μν•΄ λ°μƒ.
- CPUλ” μ¥μΉ μ»¨νΈλ΅¤λ¬μ— μ…μ¶λ ¥ μ‘μ—…μ„ λ…λ Ήν•κ³ , μ¥μΉ μ»¨νΈλ΅¤λ¬κ°€ μ…μ¶λ ¥μ¥μΉλ¥Ό μ μ–΄ν•λ©° μ…μ¶λ ¥μ„ μν–‰ν•λ” λ™μ• CPUλ” λ‹¤λ¥Έ μΌμ„ ν•  μ μμ

![image.png](image%202.png)

- μ¥μΉ μ»¨νΈλ΅¤λ¬κ°€ μ…μ¶λ ¥ μ‘μ—…μ„ λλ‚Έ λ’¤ CPUμ—κ² μΈν„°λ½νΈ μ”μ²­ μ‹ νΈλ¥Ό λ³΄λ‚΄λ©΄ CPUλ” ν•λ μΌμ„
  μ μ‹ λ°±μ—…ν•κ³  μΈν„°λ½νΈ μ„λΉ„μ¤ λ£¨ν‹΄μ„ μ‹¤ν–‰

### μ°μ„ μμ„

![image.png](image%203.png)

- ν„μ¬ CPUκ°€ μΈν„°λ½νΈ Aλ¥Ό μ²λ¦¬ν•λ” λ„μ¤‘μ— λ λ‹¤λ¥Έ μΈν„°λ½νΈ Bκ°€ λ°μƒν–λ‹¤κ³  κ°€μ •.
- λ§μ•½ μ§€κΈ μ²λ¦¬ μ¤‘μΈ μΈν„°λ½νΈ Aλ³΄λ‹¤ Bμ μ°μ„ μμ„κ°€ λ‚®λ‹¤λ©΄ CPUλ” Aλ¥Ό λ¨λ‘ μ²λ¦¬ν• λ’¤ Bλ¥Ό μ²λ¦¬
- ν•μ§€λ§ μΈν„°λ½νΈ Aλ³΄λ‹¤ Bμ μ°μ„ μμ„κ°€ λ†’λ‹¤λ©΄ CPUλ” μΈν„°λ½νΈ Aμ μ‹¤ν–‰μ„ μ μ‹ λ©μ¶”κ³  μΈν„°λ½νΈ Bλ¥Ό μ²λ¦¬ν• λ’¤ λ‹¤μ‹ Aλ¥Ό μ²λ¦¬ν•¨

### PIC(Programmable Interrupt Controller)

1.  PICκ°€ μ¥μΉ μ»¨νΈλ΅¤λ¬μ—μ„ μΈν„°λ½νΈ μ”μ²­ μ‹ νΈ(λ“¤)λ¥Ό λ°›μ•„λ“¤μ„
2.  PICλ” μΈν„°λ½νΈ μ°μ„ μμ„λ¥Ό νλ‹¨ν• λ’¤ CPUμ— μ²λ¦¬ν•΄μ•Ό ν•  μΈν„°λ½νΈ μ”μ²­ μ‹ νΈλ¥Ό λ³΄λƒ„
3.  CPUλ” PICμ— μΈν„°λ½νΈ ν™•μΈ μ‹ νΈλ¥Ό λ³΄λƒ„
4.  PICλ” λ°μ΄ν„° λ²„μ¤λ¥Ό ν†µν•΄ CPUμ— μΈν„°λ½νΈ λ²΅ν„°λ¥Ό λ³΄λƒ„.
5.  CPUλ” μΈν„°λ½νΈ λ²΅ν„°λ¥Ό ν†µν•΄ μΈν„°λ½νΈ μ”μ²­μ μ£Όμ²΄λ¥Ό μ•κ² λκ³ , ν•΄λ‹Ή μ¥μΉμ μΈν„°λ½νΈ μ„λΉ„
    μ¤ λ£¨ν‹΄μ„ μ‹¤ν–‰.

![image.png](image%204.png)

- PIC λ¥Ό λ‘κ° μ΄μƒ κ³„μΈµμ μΌλ΅ κµ¬μ„±

### **λ§μ¤ν„° PICμ™€ μ¬λ μ΄λΈ PIC**

ν„λ€ μ‹μ¤ν…μ—μ„λ” 8κ°μ IRQλ§μΌλ΅λ” λ¶€μ΅±ν–κΈ° λ•λ¬Έμ—, **λ‘ κ°μ PICλ¥Ό μ—°κ²°ν•μ—¬ 16κ°μ IRQλ¥Ό μ§€μ›**

- **λ§μ¤ν„° PIC** (IRQ 0~7)
- **μ¬λ μ΄λΈ PIC** (IRQ 8~15) β†’ λ§μ¤ν„° PICμ IRQ 2μ— μ—°κ²°λ¨.
-

![image.png](image%205.png)

- **μ°μ„ μμ„λ” IRQ λ²νΈκ°€ λ‚®μ„μλ΅ λ†’μ.**
  - **IRQ 0 (μ‹μ¤ν… νƒ€μ΄λ¨Έ)** β†’ κ°€μ¥ λ†’μ€ μ°μ„ μμ„
  - **IRQ 1 (ν‚¤λ³΄λ“)** β†’ νƒ€μ΄λ¨Έ λ‹¤μμΌλ΅ λ†’μ€ μ°μ„ μμ„
  - **IRQ 2 (μ¬λ μ΄λΈ PIC μ—°κ²°)** β†’ λ§μ¤ν„° PICκ°€ μ¬λ μ΄λΈ PICμ μ”μ²­μ„ λ°›μΌλ―€λ΅ μ¤‘κ°„ μμ¤€
  - **IRQ 15 (λ³΄μ΅° HDD μ»¨νΈλ΅¤λ¬)** β†’ κ°€μ¥ λ‚®μ€ μ°μ„ μμ„

**μ¦‰, νƒ€μ΄λ¨Έμ™€ ν‚¤λ³΄λ“λ” ν•­μƒ κ°€μ¥ λ¨Όμ € μ²λ¦¬λλ©°, ν•λ“λ””μ¤ν¬, λ„¤νΈμ›ν¬, μ‚¬μ΄λ“ μΉ΄λ“ λ“±μ€ μƒλ€μ μΌλ΅ λ‚®μ€ μ°μ„ μμ„λ¥Ό κ°€μ§**

### **PICμ ν•κ³„μ **

1. **κ³ μ •λ μ°μ„ μμ„ λ¬Έμ **
   - IRQ 0(νƒ€μ΄λ¨Έ)μ΄ ν•­μƒ κ°€μ¥ λ†’μ€ μ°μ„ μμ„λ¥Ό κ°€μ§.
   - λ„¤νΈμ›ν¬ μΉ΄λ“(IRQ 9)μ μ°μ„ μμ„κ°€ λ‚®μ•„μ„ μ„±λ¥ μ €ν• λ¬Έμ  λ°μƒ.
2. **λ©€ν‹°μ½”μ–΄ μ§€μ› λ¶κ°€**
   - PICλ” λ‹¨μΌ CPU μ‹μ¤ν…μ„ κΈ°μ¤€μΌλ΅ μ„¤κ³„λ¨.
   - λ©€ν‹°μ½”μ–΄ CPUμ—μ„λ” μΈν„°λ½νΈλ¥Ό μ—¬λ¬ κ°μ μ½”μ–΄μ— λ¶„λ°°ν•λ” κΈ°λ¥μ΄ ν•„μ”ν•μ§€λ§, PICλ” μ΄λ¥Ό μ§€μ›ν•μ§€ λ»ν•¨.
3. **IRQ λ¶€μ΅± λ¬Έμ **
   - 16κ°μ IRQλ§ μ§€μ› β†’ λ” λ§μ€ μ¥μΉκ°€ ν•„μ”ν•  κ²½μ° λ¶€μ΅±ν•΄μ§.

### **ν„λ€ μ‹μ¤ν…μ—μ„μ λ€μ²΄ κΈ°μ : APIC**

ν„μ¬λ” **APIC(Advanced PIC)** λλ” **IOAPIC (I/O APIC)** κ°€ μ‚¬μ©λλ©°, μ£Όμ” νΉμ§•μ€ λ‹¤μκ³Ό κ°™μ

- **λ” λ§μ€ IRQ μ§€μ›** (μµλ€ 256κ°)
- **λ©€ν‹°μ½”μ–΄ μ‹μ¤ν… μ§€μ›**
- **λ™μ  μΈν„°λ½νΈ μ°μ„ μμ„ μ„¤μ • κ°€λ¥**
- **μΈν„°λ½νΈλ¥Ό μ—¬λ¬ CPU μ½”μ–΄λ΅ λ¶„λ°° κ°€λ¥**

**μ¦‰, ν„λ€ μ‹μ¤ν…μ—μ„λ” APICλ¥Ό μ‚¬μ©ν•κ³ , κ³Όκ±°μ PICλ” λ” μ΄μƒ μ‚¬μ©λμ§€ μ•μ.**

κ·Έλ¬λ‚ BIOS μ„¤μ •μ—μ„ "PIC λ¨λ“"λ¥Ό μ„ νƒν•  μλ„ μμΌλ©°, μΌλ¶€ λ κ±°μ‹ μ‹μ¤ν…μ—μ„λ” μ—¬μ „ν PICκ°€ μ‚¬μ©λ¨.

<br>

## β…DMA μ…μ¶λ ¥

![image.png](image%206.png)

- μ•μ„  λ‘ λ°©μ‹μ€ μ…μ¶λ ¥μ¥μΉμ™€ λ©”λ¨λ¦¬ μ‚¬μ΄μ— μ „μ†΅λλ” λ¨λ“  λ°μ΄ν„°κ°€ λ°λ“μ‹ CPUλ¥Ό κ±°μ³μ•Ό ν•¨. κ°€λ©μ΄λ‚ λ°”μ CPUλ” μ…μ¶λ ¥μ¥μΉλ¥Ό μ„ν• μ—°μ‚° λ•λ¬Έμ— μ‹κ°„μ„ λΊκΈ°κ² λ¨
- ν•λ“ λ””μ¤ν¬ λ°±μ—…κ³Ό κ°™μ΄ λ€μ©λ‰ λ°μ΄ν„°λ¥Ό μ®κΈΈ λ•λ” CPU λ¶€λ‹΄μ΄ λ”μ± μ»¤μ§€κ³  κ·Έλμ„ μ…μ¶λ ¥μ¥μΉμ™€ λ©”λ¨λ¦¬κ°€ CPUλ¥Ό κ±°μΉμ§€ μ•κ³ λ„ μƒνΈμ‘μ©ν•  μ μλ” μ…μ¶λ ¥ λ°©μ‹μΈ DMA Direct Memory Accessκ°€ λ“±μ¥.
- DMAλ” μ΄λ¦„ κ·Έλ€λ΅ μ§μ ‘ λ©”λ¨λ¦¬μ— μ ‘κ·Όν•  μ μλ” μ…μ¶λ ¥ κΈ°λ¥. DMA μ…μ¶λ ¥μ„ ν•κΈ° μ„ν•΄μ„λ” μ‹μ¤ν… λ²„μ¤μ— μ—°κ²°λ DMA μ»¨νΈλ΅¤λ¬λΌλ” ν•λ“μ›¨μ–΄κ°€ ν•„μ”.

<br>

## **DMA μ…μ¶λ ¥ κ³Όμ •**

**1. CPUκ°€ DMA μ»¨νΈλ΅¤λ¬μ— λ…λ Ήμ„ μ „λ‹¬**

- CPUλ” DMA μ»¨νΈλ΅¤λ¬μ—κ² **"μ΄μ λ¶€ν„° νΉμ • μ¥μΉμ™€ λ©”λ¨λ¦¬ κ°„μ— λ°μ΄ν„°λ¥Ό μ „μ†΅ν•΄λΌ"** λΌλ” λ…λ Ήμ„ λ³΄λƒ„.
- μ΄λ• CPUλ” **μ¶λ°μ§€ μ£Όμ†, λ©μ μ§€ μ£Όμ†, λ°μ΄ν„° ν¬κΈ°** λ“±μ μ •λ³΄λ¥Ό μ„¤μ •ν•¨.

**2. DMA μ»¨νΈλ΅¤λ¬κ°€ λ°μ΄ν„° μ „μ†΅ μν–‰**

- CPUλ” λ‹¤λ¥Έ μ‘μ—…μ„ μν–‰ν•λ©΄μ„ **DMA μ»¨νΈλ΅¤λ¬κ°€ μ§μ ‘ λ©”λ¨λ¦¬μ™€ I/O μ¥μΉ κ°„ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›λ„λ΅ λ§΅κΉ€.**
- CPUλ” **λ°μ΄ν„° μ „μ†΅ κ³Όμ •μ— κ°μ…ν•μ§€ μ•μ.**

**3. λ°μ΄ν„° μ „μ†΅ μ™„λ£ ν›„ μΈν„°λ½νΈ λ°μƒ**

- DMA μ»¨νΈλ΅¤λ¬κ°€ **λ°μ΄ν„° μ „μ†΅μ„ μ™„λ£ν•λ©΄ CPUμ—κ² μΈν„°λ½νΈ(Interrupt)λ¥Ό λ³΄λƒ„.**
- CPUλ” μΈν„°λ½νΈλ¥Ό λ°›μ•„μ„ **λ°μ΄ν„°κ°€ μ •μƒμ μΌλ΅ μ „μ†΅λμ—λ”μ§€ ν™•μΈ**ν•κ³ , ν›„μ† μ‘μ—…μ„ μν–‰ν•¨.

### μ…μ¶λ ¥ λ²„μ¤

![image.png](image%207.png)

- DMAλ¥Ό μ„ν•΄ μ‹μ¤ν… λ²„μ¤λ¥Ό λ„λ¬΄ μμ£Ό μ‚¬μ©ν•λ©΄ κ·Έλ§νΌ CPUκ°€ μ‹μ¤ν… λ²„μ¤λ¥Ό μ΄μ©ν•μ§€ λ»ν•¨.
- μ΄ λ¬Έμ λ” DMA μ»¨νΈλ΅¤λ¬μ™€ μ¥μΉ μ»¨νΈλ΅¤λ¬λ“¤μ„ μ…μ¶λ ¥ λ²„μ¤input/output busλΌλ” λ³„λ„μ λ²„μ¤μ— μ—°κ²°ν•μ—¬ ν•΄κ²°ν•  μ μμ.
- μ¥μΉ μ»¨νΈλ΅¤λ¬λ“¤μ΄ μ‹μ¤ν… λ²„μ¤κ°€ μ•„λ‹ μ…μ¶λ ¥ λ²„μ¤λ΅ DMA μ»¨νΈλ΅¤λ¬μ— μ—°κ²°λλ‹¤λ©΄ DMA μ»¨νΈλ΅¤λ¬μ™€ μ¥μΉ μ»¨νΈλ΅¤λ¬κ°€ μ„λ΅ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  λ•λ” μ‹μ¤ν… λ²„μ¤λ¥Ό μ΄μ©ν•  ν•„μ”κ°€ μ—†μΌλ―€λ΅ μ‹μ¤ν… λ²„μ¤μ μ‚¬μ© λΉλ„λ¥Ό μ¤„μΌ μ μμ

### ν•κ³„

**μ‘μ€ λ°μ΄ν„° μ „μ†΅μ—λ” λΉ„ν¨μ¨μ **

- DMAλ” **λ€λ‰μ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  λ• κ°€μ¥ ν¨κ³Όμ **μ΄μ§€λ§, **μ‘μ€ λ°μ΄ν„°(μ: ν‚¤λ³΄λ“ μ…λ ¥, λ§μ°μ¤ μ›€μ§μ„)μ—μ„λ” μ¤νλ ¤ μ„±λ¥μ΄ λ‚®μ•„μ§.**
- μλ¥Ό λ“¤μ–΄, **ν‚¤λ³΄λ“ μ…λ ¥ κ°™μ€ μ‘μ€ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•  λ•λ” ν”„λ΅κ·Έλ¨ λ°©μ‹ I/Oλ‚ μΈν„°λ½νΈ λ°©μ‹μ΄ λ” μ ν•©ν•¨.**
- **DMAλ¥Ό μ‚¬μ©ν•λ©΄ μ¤νλ ¤ μ„¤μ • λ° μΈν„°λ½νΈ μ¤λ²„ν—¤λ“κ°€ μ»¤μ§ μ μμ.**

**λ°μ΄ν„° λ™κΈ°ν™” λ¬Έμ **

- CPUμ™€ DMAκ°€ λ™μ‹μ— λ©”λ¨λ¦¬μ— μ ‘κ·Όν•λ©΄ **λ°μ΄ν„° λ™κΈ°ν™”(Synchronization) λ¬Έμ **κ°€ λ°μƒν•  μ μμ.
- νΉν **μΊμ‹ μΌκ΄€μ„±(Cache Coherency) λ¬Έμ **κ°€ λ°μƒν•  μ μμ.
  - CPUλ” μΊμ‹μ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•κ³  μ‘μ—…ν•λ”λ°, DMAλ” λ©”λ¨λ¦¬μ—μ„ μ§μ ‘ λ°μ΄ν„°λ¥Ό κ°€μ Έμ΄.
  - **DMAκ°€ λ³€κ²½ν• λ°μ΄ν„°λ¥Ό CPU μΊμ‹κ°€ λ°μν•μ§€ λ»ν•λ©΄, μ¤λ¥κ°€ λ°μƒν•  μ μμ.**
  - μ΄λ¥Ό ν•΄κ²°ν•λ ¤λ©΄ **μΊμ‹ ν”λ¬μ‹(Cache Flush) λλ” λ©”λ¨λ¦¬ λ™κΈ°ν™” κΈ°μ **μ΄ ν•„μ”ν•¨.
